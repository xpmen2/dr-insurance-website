<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Navigation - DR Insurance</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 100px auto 50px;
            padding: 20px;
        }
        
        .test-section {
            background: #f5f5f5;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .test-section h2 {
            color: #003F7F;
            margin-bottom: 20px;
            border-bottom: 2px solid #D4AF37;
            padding-bottom: 10px;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .test-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #E6F2FF;
        }
        
        .test-card h3 {
            color: #003F7F;
            margin-bottom: 10px;
        }
        
        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .status.success {
            background: #00A86B;
            color: white;
        }
        
        .status.pending {
            background: #FFC20E;
            color: #003F7F;
        }
        
        .status.error {
            background: #FF0000;
            color: white;
        }
        
        .test-button {
            background: #003F7F;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s;
        }
        
        .test-button:hover {
            background: #D4AF37;
            transform: translateY(-2px);
        }
        
        .console-output {
            background: #1e1e1e;
            color: #00ff00;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 10px;
        }
        
        .test-sections {
            height: 400px;
            margin: 20px 0;
            padding: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 24px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <!-- Include the actual navigation from main site -->
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="components/navigation.css">
    <link rel="stylesheet" href="css/navigation-effects.css">
    
    <!-- Copy of navigation HTML from index.html -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#home" class="nav-brand">
                <img src="images/logo-dr-insurance.png" alt="DR Protection Logo" class="logo-img">
            </a>
            <div class="nav-phone">
                <span class="phone-label">Llámanos</span>
                <a href="tel:3055551234" class="phone-number">(305) 555-1234</a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#test1" class="nav-link">Test 1</a>
                </li>
                <li class="nav-item">
                    <a href="#test2" class="nav-link">Test 2</a>
                </li>
                <li class="nav-item">
                    <a href="#test3" class="nav-link">Test 3</a>
                </li>
                <li class="nav-item">
                    <a href="#test4" class="nav-link">Test 4</a>
                </li>
            </ul>
            <div class="lang-toggle">
                <div class="flag-icon flag-es"></div>
                <span class="lang-text">ES</span>
            </div>
            <div class="nav-actions">
                <a href="#cotizar" class="cta-button cta-primary">Cotiza Ahora</a>
                <a href="#agentes" class="cta-button cta-secondary">Únete al Equipo</a>
            </div>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <span class="menu-line"></span>
                <span class="menu-line"></span>
                <span class="menu-line"></span>
            </button>
        </div>
    </nav>
    
    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <ul class="mobile-nav-list">
            <li class="mobile-nav-item">
                <a href="#test1" class="mobile-nav-link">Test 1</a>
            </li>
            <li class="mobile-nav-item">
                <a href="#test2" class="mobile-nav-link">Test 2</a>
            </li>
            <li class="mobile-nav-item">
                <a href="#test3" class="mobile-nav-link">Test 3</a>
            </li>
            <li class="mobile-nav-item">
                <a href="#test4" class="mobile-nav-link">Test 4</a>
            </li>
        </ul>
        <div class="mobile-actions">
            <a href="#cotizar" class="cta-button cta-primary">Cotiza Ahora</a>
            <a href="#agentes" class="cta-button cta-secondary">Únete al Equipo</a>
        </div>
    </div>

    <div class="test-container">
        <div class="test-section">
            <h2>🧪 Navigation v2.0 - Panel de Pruebas</h2>
            <p>Esta página permite verificar que todas las funcionalidades del navigation.js están funcionando correctamente.</p>
            
            <div class="test-grid">
                <div class="test-card">
                    <h3>📱 Mobile Menu</h3>
                    <p>Redimensiona la ventana o usa las DevTools para probar el menú móvil.</p>
                    <button class="test-button" onclick="testMobileMenu()">Test Mobile Toggle</button>
                    <div id="mobile-status"></div>
                </div>
                
                <div class="test-card">
                    <h3>🔄 Smooth Scroll</h3>
                    <p>Click en los enlaces del menú para verificar el smooth scroll.</p>
                    <button class="test-button" onclick="testSmoothScroll()">Test Scroll</button>
                    <div id="scroll-status"></div>
                </div>
                
                <div class="test-card">
                    <h3>🌐 Language Toggle</h3>
                    <p>Prueba el cambio de idioma y verifica localStorage.</p>
                    <button class="test-button" onclick="testLanguage()">Test Language</button>
                    <div id="lang-status"></div>
                </div>
                
                <div class="test-card">
                    <h3>📍 Active Link</h3>
                    <p>Scroll para ver el highlighting automático de links activos.</p>
                    <button class="test-button" onclick="testActiveLink()">Test Active</button>
                    <div id="active-status"></div>
                </div>
                
                <div class="test-card">
                    <h3>🎨 Premium Effects</h3>
                    <p>Verifica efectos hover, ripples y animaciones.</p>
                    <button class="test-button" onclick="testEffects()">Test Effects</button>
                    <div id="effects-status"></div>
                </div>
                
                <div class="test-card">
                    <h3>📊 Scroll Behavior</h3>
                    <p>Navbar hide/show en scroll y clase 'scrolled'.</p>
                    <button class="test-button" onclick="testScrollBehavior()">Test Navbar</button>
                    <div id="navbar-status"></div>
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>🎯 Console Output</h2>
            <div class="console-output" id="console-output">
                Esperando eventos...
            </div>
            <button class="test-button" onclick="clearConsole()">Clear Console</button>
        </div>
        
        <!-- Test Sections for Scrolling -->
        <div id="test1" class="test-sections">
            <h2>Test Section 1</h2>
        </div>
        
        <div id="test2" class="test-sections" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
            <h2>Test Section 2</h2>
        </div>
        
        <div id="test3" class="test-sections" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
            <h2>Test Section 3</h2>
        </div>
        
        <div id="test4" class="test-sections" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
            <h2>Test Section 4</h2>
        </div>
    </div>

    <!-- Load Navigation Script -->
    <script src="js/navigation.js"></script>
    
    <!-- Test Scripts -->
    <script>
        const consoleOutput = document.getElementById('console-output');
        let logCount = 0;
        
        function log(message, type = 'info') {
            logCount++;
            const timestamp = new Date().toLocaleTimeString();
            const color = type === 'error' ? '#ff6b6b' : type === 'success' ? '#51cf66' : '#74c0fc';
            consoleOutput.innerHTML += `<div style="color: ${color}">[${timestamp}] ${message}</div>`;
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }
        
        function clearConsole() {
            consoleOutput.innerHTML = 'Console cleared...';
            logCount = 0;
        }
        
        // Listen to custom navigation events
        window.addEventListener('navigation:navigate', (e) => {
            log(`✅ Navigation event: Navigated to #${e.detail.target}`, 'success');
        });
        
        window.addEventListener('navigation:mobileMenuOpen', () => {
            log('📱 Mobile menu opened', 'success');
        });
        
        window.addEventListener('navigation:mobileMenuClose', () => {
            log('📱 Mobile menu closed', 'success');
        });
        
        window.addEventListener('navigation:languageChange', (e) => {
            log(`🌐 Language changed to: ${e.detail.language}`, 'success');
        });
        
        // Test Functions
        function testMobileMenu() {
            if (window.DRNavigation) {
                window.DRNavigation.toggleMobileMenu();
                document.getElementById('mobile-status').innerHTML = 
                    '<span class="status success">✓ Mobile menu toggled</span>';
                log('Mobile menu test executed');
            } else {
                document.getElementById('mobile-status').innerHTML = 
                    '<span class="status error">✗ Navigation not initialized</span>';
                log('ERROR: Navigation not initialized', 'error');
            }
        }
        
        function testSmoothScroll() {
            const link = document.querySelector('.nav-link');
            if (link) {
                link.click();
                document.getElementById('scroll-status').innerHTML = 
                    '<span class="status success">✓ Scroll initiated</span>';
                log('Smooth scroll test executed');
            }
        }
        
        function testLanguage() {
            if (window.DRNavigation) {
                window.DRNavigation.toggleLanguage();
                const currentLang = document.documentElement.lang;
                document.getElementById('lang-status').innerHTML = 
                    `<span class="status success">✓ Language: ${currentLang}</span>`;
                log(`Language toggled to: ${currentLang}`);
            }
        }
        
        function testActiveLink() {
            const activeLinks = document.querySelectorAll('.nav-link.active');
            document.getElementById('active-status').innerHTML = 
                `<span class="status success">✓ ${activeLinks.length} active links</span>`;
            log(`Active links found: ${activeLinks.length}`);
        }
        
        function testEffects() {
            const navbar = document.getElementById('navbar');
            navbar.classList.add('scrolled');
            setTimeout(() => {
                navbar.classList.remove('scrolled');
            }, 1000);
            document.getElementById('effects-status').innerHTML = 
                '<span class="status success">✓ Effects tested</span>';
            log('Premium effects test executed');
        }
        
        function testScrollBehavior() {
            window.scrollTo({
                top: 500,
                behavior: 'smooth'
            });
            setTimeout(() => {
                const navbar = document.getElementById('navbar');
                const hasScrolled = navbar.classList.contains('scrolled');
                document.getElementById('navbar-status').innerHTML = 
                    `<span class="status ${hasScrolled ? 'success' : 'pending'}">
                    ${hasScrolled ? '✓ Scrolled class active' : '⚠ Scroll more to test'}</span>`;
                log(`Navbar scrolled state: ${hasScrolled}`);
            }, 500);
        }
        
        // Initial status check
        window.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                if (window.DRNavigation) {
                    log('✅ Navigation v2.0 initialized successfully!', 'success');
                    log(`Navigator initialized: ${window.DRNavigation.isInitialized}`, 'success');
                } else {
                    log('⚠️ Navigation not found', 'error');
                }
            }, 500);
        });
    </script>
</body>
</html>